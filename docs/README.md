# Time Tracker App

Приложение для учета рабочего времени сотрудников. Позволяет вести табель, отслеживать рабочие часы, отпуска, больничные и другие типы рабочих дней.

## Функциональность

- Авторизация пользователей с разными ролями (администратор, руководитель, сотрудник)
- Учет рабочего времени сотрудников
- Различные типы дней: рабочий день, отпуск, больничный, выходной и др.
- Статистика и графики по рабочему времени
- Экспорт данных
- Резервное копирование и восстановление данных
- Обновление приложения

## Технологический стек

- Next.js 15.2.4
- React 19
- TypeScript
- Prisma с SQLite
- TailwindCSS
- Chart.js для визуализации данных
- Jest и Testing Library для тестирования

## Установка и запуск

### Требования

- Node.js 20+
- npm 10+

### Установка

1. Клонируйте репозиторий:
   ```
   git clone https://github.com/username/time-tracker-app.git
   cd time-tracker-app
   ```

2. Установите зависимости:
   ```
   npm install
   ```

3. Настройте базу данных:
   ```
   npx prisma generate
   npx prisma migrate dev
   ```

4. Заполните базу данных тестовыми данными (опционально):
   ```
   npm run seed
   ```

### Запуск

Для режима разработки:
```
npm run dev
```

Для сборки и запуска в production режиме:
```
npm run build
npm run start
```

## Структура проекта

```
/app                # Страницы и API-эндпоинты
  /admin            # Страницы администратора
  /api              # API-эндпоинты
  /login            # Страница входа
  /timesheet        # Страница табеля
  /employees        # Страница сотрудников
  /reports          # Страница отчетов
  /settings         # Страница настроек
/components         # React-компоненты
  /timesheet        # Компоненты для табеля
  /employees        # Компоненты для управления сотрудниками
  /reports          # Компоненты для отчетов
  /ui               # UI-компоненты (кнопки, селекты и т.д.)
/lib                # Утилиты, хелперы, контексты
/prisma             # Модели и миграции Prisma
/public             # Статические файлы
/types              # TypeScript типы
/__tests__          # Тесты
```

## API

### Аутентификация

- `POST /api/auth` - Вход в систему
- `GET /api/auth/me` - Получение информации о текущем пользователе
- `POST /api/auth/register` - Регистрация нового пользователя
- `POST /api/auth/change-password` - Изменение пароля

### Сотрудники

- `GET /api/employees` - Получение списка сотрудников
- `GET /api/employees/:id` - Получение информации о сотруднике
- `POST /api/employees` - Создание нового сотрудника
- `PUT /api/employees/:id` - Обновление информации о сотруднике
- `DELETE /api/employees/:id` - Удаление сотрудника

### Рабочие дни

- `GET /api/workdays` - Получение списка рабочих дней
- `GET /api/workdays?date=YYYY-MM-DD` - Получение рабочих дней на конкретную дату
- `POST /api/workdays` - Создание нового рабочего дня
- `PUT /api/workdays` - Обновление рабочего дня
- `DELETE /api/workdays?id=:id` - Удаление рабочего дня

### Резервное копирование

- `GET /api/backup` - Создание резервной копии данных
- `POST /api/backup` - Восстановление из резервной копии

### Обновление

- `GET /api/update` - Проверка наличия обновлений
- `POST /api/update` - Установка обновления
- `POST /api/update/rollback` - Откат обновления

### Системная информация

- `GET /api/health` - Проверка состояния приложения

## Тестирование

Для запуска тестов:
```
npm run test
```

Для запуска тестов в режиме отслеживания изменений:
```
npm run test:watch
```

Для проверки покрытия тестами:
```
npm run test:coverage
```

## Лицензия

[MIT](LICENSE) 